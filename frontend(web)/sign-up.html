<!DOCTYPE html>
<html lang="en">
<head>
    <title>Social - Network, Community and Event Theme</title>

    <!-- Meta Tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="author" content="Webestica.com">
    <meta name="description" content="Bootstrap 5 based Social Media Network and Community Theme">

    <!-- Favicon -->
    <link rel="shortcut icon" href="static/images/favicon.ico">

    <!-- Google Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap">

    <!-- Plugins CSS -->
    <link rel="stylesheet" type="text/css" href="static/vendor/font-awesome/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="static/vendor/bootstrap-icons/bootstrap-icons.css">

    <!-- Theme CSS -->
    <link id="style-switch" rel="stylesheet" type="text/css" href="static/css/style.css">
    <script src="./static/js/axios.js"></script>
    <style>
        .modal-container {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.4);
        }

        .modal-content {
            background-color: #fefefe;
            margin: 15% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;

            max-width: 600px;
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        .modal-btn {
            background-color: #4caf50;
            color: white;
            height: 20px;
            width: 50px;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }


        #myxieyi {
            max-height: 200px; /* Set a maximum height for the paragraph */
            overflow-y: auto; /* Add vertical scrollbar when content exceeds the height */
        }
    </style>

</head>

<body>

<!-- **************** MAIN CONTENT START **************** -->
<main>

    <!-- Container START -->
    <div class="container">
        <div class="row justify-content-center align-items-center vh-100 py-5">
            <!-- Main content START -->
            <div class="col-sm-10 col-md-8 col-lg-7 col-xl-6 col-xxl-5">
                <!-- Sign up START -->
                <div class="card card-body rounded-3 p-4 p-sm-5">
                    <div class="text-center">
                        <!-- Title -->
                        <h1 class="mb-2">Sign up</h1>
                        <span class="d-block">Already have an account? <a href="sign-in.html">Sign in here</a></span>
                    </div>
                    <!-- Form START -->
                    <!-- 表单在这里 -->
                    <form class="mt-4" id="myform">
                        <!-- Email -->
                        <div class="mb-3 input-group-lg">
                            <input type="text" class="form-control" placeholder="Nickname" name="name" required>
                        </div>
                        <div class="mb-3 input-group-lg">
                            <input type="email" class="form-control" placeholder="Enter email" name="email" id="email">
                            <small>We'll never share your email with anyone else.</small>
                        </div>
                        <!-- New password -->
                        <div class="mb-3 position-relative">
                            <!-- Input group -->
                            <div class="input-group input-group-lg">
                                <input class="form-control fakepassword" type="password" id="psw-input"
                                       placeholder="Enter new password" name="passwd">
                                <span class="input-group-text p-0">
                  <i class="fakepasswordicon fa-solid fa-eye-slash cursor-pointer p-2 w-40px"></i>
                </span>
                            </div>

                        </div>
                        <!-- Confirm password -->
                        <div class="mb-3 input-group-lg">
                            <input class="form-control" type="password" placeholder="Confirm password" name="rePasswd">
                        </div>

                        <!-- Keep me signed in -->
                        <div class="mb-3 text-start">
                            <input type="checkbox" class="form-check-input" id="keepsingnedCheck">
                            <label class="form-check-label" for="keepsingnedCheck"> <a href="#" id="open-modal-btn"
                                                                                       onclick="openModal()">Check the
                                agreement</a></label>
                            <small style="color:red" id="errormsg"></small>
                        </div>
                        <!-- Button -->
                        <div class="d-grid" id="sign_up">
                            <button type="submit" class="btn btn-lg btn-primary" id="mysubmit">Sign me up</button>

                        </div>
                        <!-- Copyright -->
                        <p class="mb-0 mt-3 text-center">©2024 <a href="./index.html">Been.</a> All rights reserved</p>
                    </form>
                    <div id="modal-container" class="modal-container">
                        <div class="modal-content">
                            <span class="close" onclick="closeModal()">&times;</span>
                            <h2>Privacy Policy</h2>
                            <p id="myxieyi">
                                Effective Date: March 20, 2024
                                Welcome to "Been" (hereinafter referred to as "we" or "our") services! We are committed
                                to protecting your privacy. Before using our services, please read and understand this
                                privacy policy carefully. <br>
                            <h5>1. Information We Collect</h5> <br>
                            <h6>1.1 Information Provided by Users</h6><br>
                            • When you register for a "Been" account or use our services, we may collect personal
                            information you provide, such as your name, email address, username, and profile.<br>
                            <h6>1.2 Location Information</h6><br>
                            • To provide location-based features, such as route recording and recommendations, we may
                            collect and store your geographical location information.<br>
                            <h6>1.3 Automatically Collected Information</h6><br>
                            • When you access or use "Been", our servers may automatically record certain information,
                            such as IP addresses, browser types, and operating systems.<br>
                            <h6>1.4 Log Data</h6><br>
                            • We may collect log data on service usage to analyze service performance and improve user
                            experience.<br>
                            <h5>2. How We Use Your Information</h5><br>
                            • We may use the collected information to provide, maintain, and improve the services of
                            "Been", including but not limited to recording and sharing travel and sports routes, photos,
                            and experiences, as well as gaining inspiration and advice from other users.<br>
                            <h5>3. Information Sharing and Disclosure</h5><br>
                            • We promise not to sell or rent your personal information to third parties. However, we may
                            share your information in the following cases:<br>
                            • When required or permitted by law;<br>
                            • To protect our or others' rights, property, or safety;<br>
                            • In the event of a merger, acquisition, or asset sale.<br>
                            <h5>4. Data Security</h5><br>
                            • We take various security measures to protect your personal information from unauthorized
                            access, alteration, or destruction. However, due to the nature of the Internet, we cannot
                            guarantee complete data security.<br>
                            <h5>5. Cookies and Other Tracking Technologies</h5><br>
                            • We may use cookies and other tracking technologies to collect and store information to
                            improve user experience and analyze service usage.<br>
                            <h5>6. Third-Party Links</h5><br>
                            • The services of "Been" may contain links to third-party websites. Please note that we are
                            not responsible for the privacy practices of third-party websites or services.<br>
                            <h5>7. Privacy of Minors</h5><br>
                            • The services of "Been" are not intended for children under 18 years of age. If you are a
                            minor, please use our services under the guidance of a legal guardian.<br>
                            <h5>8. Changes to Privacy Policy</h5> <br>
                            • We reserve the right to modify this privacy policy at any time. After modifications, we
                            will publish the updated privacy policy within the "Been" app or on the official
                            website.<br>
                            <h5>9. Contact Us</h5><br>
                            • If you have any questions or concerns about this privacy policy, please contact us through
                            the contact information provided within the "Been" app.<br>

                            </p>

                        </div>
                    </div>

                    <!-- Form END -->
                </div>
                <!-- Sign up END -->
            </div>
        </div> <!-- Row END -->
    </div>
    <!-- Container END -->

</main>

<!-- **************** MAIN CONTENT END **************** -->

<!-- =======================
JS libraries, plugins and custom scripts -->
<script>

    var submit_btn = document.getElementById('mysubmit');
    var form = document.getElementById('myform');
    var errormsg = document.getElementById('errormsg');

    submit_btn.addEventListener('click', function (e) {
        var email = document.getElementById('email').value
        console.log('点了')
        e.preventDefault();
        var regExp = /^\w{5,10}@\w+\.(com|net|org)$/;
        var flag = regExp.test(email);
        console.log(flag, email)
        if (flag == false) {
            errormsg.innerHTML = "Invalid email";
        } else {
            errormsg.innerHTML = "";
        }
        const formData = new FormData(form);
        const formDataObject = Object.fromEntries(formData.entries());
        console.log(formDataObject)

        axios.post('https://localhost:8080/register', formDataObject, {
            headers: {
                'Content-Type': 'application/json',
                'aToken': localStorage.aToken,
                'rToken': localStorage.rToken,

            }
        })
            .then(function (response) {
                axios.get("https://localhost:8080/web/login")
                alert(1);
            })
            .catch(function (error) {
                errormsg.innerHTML = error.data.error;
                alert(2);
            });

    });

</script>
<script>
    function openModal() {
        document.getElementById("modal-container").style.display = "block";
    }

    function closeModal() {
        document.getElementById("modal-container").style.display = "none";
    }
</script>

<!-- Bootstrap JS -->
<script src="static/vendor/bootstrap/dist/js/bootstrap.bundle.min.js"></script>

<!-- Vendors -->
<script src="static/vendor/pswmeter/pswmeter.min.js"></script>

<!-- Template Functions -->
<script src="static/js/functions.js"></script>

</body>
</html>
