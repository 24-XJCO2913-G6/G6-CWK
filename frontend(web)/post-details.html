﻿<!DOCTYPE html>
<html lang="en">
<head>
    <title>Social - Network, Community and Event Theme</title>

    <!-- Meta Tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="author" content="Webestica.com">
    <meta name="description" content="Bootstrap 5 based Social Media Network and Community Theme">

    <!-- Favicon -->
    <link rel="shortcut icon" href="static/images/favicon.ico">

    <!-- Google Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap">

    <!-- Plugins CSS -->
    <link rel="stylesheet" type="text/css" href="static/vendor/font-awesome/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="static/vendor/bootstrap-icons/bootstrap-icons.css">

    <!-- Theme CSS -->
    <link id="style-switch" rel="stylesheet" type="text/css" href="static/css/style.css">

    <style>
        .my-map {
            margin: 0 auto;
            text-align: center;
            max-width: 100%; /* 使用百分比宽度 */
            width: 735px;
            height: 640px;
        }

        .my-map .icon {
            background: url(//a.amap.com/lbs-dev-yuntu/static/web/image/tools/creater/marker.png) no-repeat;
        }

        .amap-container {
            height: 100%;
        }

        .myinfowindow {
            width: 240px;
            min-height: 50px;
        }

        .myinfowindow h5 {
            height: 20px;
            line-height: 20px;
            overflow: hidden;
            font-size: 14px;
            font-weight: bold;
            width: 220px;
            text-overflow: ellipsis;
            word-break: break-all;
            white-space: nowrap;
        }

        .myinfowindow div {
            margin-top: 10px;
            min-height: 40px;
            line-height: 20px;
            font-size: 13px;
            color: #6f6f6f;
        }

        /* 响应式样式 */
        @media screen and (max-width: 768px) {
            .my-map {
                width: 100%; /* 在较小屏幕上，将地图容器的宽度设置为100% */
                height: 400px; /* 可以根据需要调整地图容器的高度 */
            }
        }

        @media screen and (max-width: 480px) {
            .my-map {
                width: 100%; /* 在更小的屏幕上，将地图容器的宽度设置为100% */
                height: 300px; /* 在更小的屏幕上，将地图容器的高度设置为300px */
            }
        }
    </style>
<script src="https://cdn.bootcdn.net/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
</head>

<body>

<!-- =======================
Header START -->
<header class="navbar-light fixed-top header-static bg-mode">

    <!-- Logo Nav START -->
    <nav class="navbar navbar-expand-lg">
        <div class="container">
            <!-- Logo START -->
            <a class="navbar-brand" href="index.html">
                <img class="light-mode-item navbar-brand-item" src="static/images/logo.svg" alt="logo">
                <img class="dark-mode-item navbar-brand-item" src="static/images/logo.svg" alt="logo">
            </a>
            <!-- Logo END -->

            <!-- Responsive navbar toggler -->
            <button class="navbar-toggler ms-auto icon-md btn btn-light p-0" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false"
                    aria-label="Toggle navigation">
            <span class="navbar-toggler-animation">
                <span></span>
                <span></span>
                <span></span>
            </span>
            </button>

            <!-- Main navbar START -->
            <div class="collapse navbar-collapse" id="navbarCollapse">

                <!-- Nav Search START -->
                <div class="nav mt-3 mt-lg-0 flex-nowrap align-items-center px-4 px-lg-0">
                    <div class="nav-item w-100">
                        <form class="rounded position-relative">
                            <input class="form-control ps-5 bg-light" type="search" placeholder="Search..."
                                   aria-label="Search">
                            <button
                                    class="btn bg-transparent px-2 py-0 position-absolute top-50 start-0 translate-middle-y"
                                    type="submit"><i class="bi bi-search fs-5"> </i></button>
                        </form>
                    </div>
                </div>
                <!-- Nav Search END -->

                <ul class="navbar-nav navbar-nav-scroll ms-auto">

                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Home</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="help.html">Help Center</a>
                    </li>


                    <!-- Nav item 4 Mega menu -->
                    <li class="nav-item">
                        <a class="nav-link" href="app-download.html">App Download</a>
                    </li>
                </ul>
            </div>
            <!-- Main navbar END -->

            <!-- Nav right START -->
            <ul class="nav flex-nowrap align-items-center ms-sm-3 list-unstyled">
                <li class="nav-item ms-2">
                    <a class="nav-link icon-md btn btn-light p-0" href="vip.html">
                        <svg t="1710768564615" class="icon" viewBox="0 0 1024 1024" version="1.1"
                             xmlns="http://www.w3.org/2000/svg" p-id="4606" width="18" height="18">
                            <path
                                    d="M805.4 928.9H218.6c-42.5 0-78.8-30.2-85.5-72.2L70.1 486c-6.1-37.9 11.8-74.2 46.1-91.6 34.3-17.4 74.2-11.8 101.4 15.9l82.9 82.9L470 332.9l-41-40.4c-43.5-45.6-43-118.8 1.5-163.3s117.8-45.6 163.3-1.5l0.5 0.5c22 22 34.3 51.2 34.3 82.4S616.3 271 594.3 293L554 333.4l169.5 160.3 82.9-82.9c27.1-27.1 67.1-33.8 101.4-15.9 34.3 17.4 52.2 53.8 46.1 91.6l-63 371.2c-6.7 40.4-43 71.2-85.5 71.2z"
                                    p-id="4607" fill="#f5bc66"></path>
                        </svg>
                    </a>
                </li>
                <li class="nav-item ms-2">
                    <a class="nav-link icon-md btn btn-light p-0" href="messaging.html">
                        <i class="bi bi-chat-left-text-fill fs-6"> </i>
                    </a>
                </li>
                <li class="nav-item ms-2">
                    <a class="nav-link icon-md btn btn-light p-0" href="settings.html">
                        <i class="bi bi-gear-fill fs-6"> </i>
                    </a>
                </li>
                <li class="nav-item dropdown ms-2">
                    <a class="nav-link icon-md btn btn-light p-0" href="#" id="notifDropdown" role="button"
                       data-bs-toggle="dropdown" aria-expanded="false" data-bs-auto-close="outside">
                        <span class="badge-notif animation-blink"></span>
                        <i class="bi bi-bell-fill fs-6"> </i>
                    </a>
                    <div class="dropdown-menu dropdown-animation dropdown-menu-end dropdown-menu-size-md p-0 shadow-lg border-0"
                         aria-labelledby="notifDropdown">
                        <div class="card">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <h6 class="m-0">Notifications <span
                                        class="badge bg-danger bg-opacity-10 text-danger ms-2">4 new</span></h6>
                                <a class="small" href="#">Clear all</a>
                            </div>
                            <div class="card-body p-0">
                                <ul class="list-group list-group-flush list-unstyled p-2">
                                    <!-- Notif item -->
                                    <li>
                                        <div
                                                class="list-group-item list-group-item-action rounded badge-unread d-flex border-0 mb-1 p-3">
                                            <div class="avatar text-center d-none d-sm-inline-block">
                                                <img class="avatar-img rounded-circle"
                                                     src="static/images/avatar/01.jpg" alt="">
                                            </div>
                                            <div class="ms-sm-3">
                                                <div class=" d-flex">
                                                    <p class="small mb-2"><b>Judy Nguyen</b> sent you a friend
                                                        request.</p>
                                                    <p class="small ms-3 text-nowrap">Just now</p>
                                                </div>
                                                <div class="d-flex">
                                                    <button class="btn btn-sm py-1 btn-primary me-2">Accept
                                                    </button>
                                                    <button class="btn btn-sm py-1 btn-danger-soft">Delete</button>
                                                </div>
                                            </div>
                                        </div>
                                    </li>
                                    <!-- Notif item -->
                                    <li>
                                        <div
                                                class="list-group-item list-group-item-action rounded badge-unread d-flex border-0 mb-1 p-3 position-relative">
                                            <div class="avatar text-center d-none d-sm-inline-block">
                                                <img class="avatar-img rounded-circle"
                                                     src="static/images/avatar/02.jpg" alt="">
                                            </div>
                                            <div class="ms-sm-3 d-flex">
                                                <div>
                                                    <p class="small mb-2">Wish <b>Amanda Reed</b> a happy birthday
                                                        (Nov 12)</p>
                                                    <button class="btn btn-sm btn-outline-light py-1 me-2">Say happy
                                                        birthday 🎂
                                                    </button>
                                                </div>
                                                <p class="small ms-3">2min</p>
                                            </div>
                                        </div>
                                    </li>
                                    <!-- Notif item -->
                                    <li>
                                        <a href="#"
                                           class="list-group-item list-group-item-action rounded d-flex border-0 mb-1 p-3">
                                            <div class="avatar text-center d-none d-sm-inline-block">
                                                <div class="avatar-img rounded-circle bg-success"><span
                                                        class="text-white position-absolute top-50 start-50 translate-middle fw-bold">WB</span>
                                                </div>
                                            </div>
                                            <div class="ms-sm-3">
                                                <div class="d-flex">
                                                    <p class="small mb-2">Webestica has 15 like and 1 new activity
                                                    </p>
                                                    <p class="small ms-3">1hr</p>
                                                </div>
                                            </div>
                                        </a>
                                    </li>
                                    <!-- Notif item -->
                                    <li>
                                        <a href="#"
                                           class="list-group-item list-group-item-action rounded d-flex border-0 p-3 mb-1">
                                            <div class="avatar text-center d-none d-sm-inline-block">
                                                <img class="avatar-img rounded-circle"
                                                     src="static/images/logo/12.svg" alt="">
                                            </div>
                                            <div class="ms-sm-3 d-flex">
                                                <p class="small mb-2"><b>Bootstrap in the news:</b> The search
                                                    giant’s parent company, Alphabet, just joined an exclusive club
                                                    of tech stocks.</p>
                                                <p class="small ms-3">4hr</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                            <div class="card-footer text-center">
                                <a href="#" class="btn btn-sm btn-primary-soft">See all incoming activity</a>
                            </div>
                        </div>
                    </div>
                </li>
                <!-- Notification dropdown END -->

                <li class="nav-item ms-2 dropdown">
                    <a class="nav-link btn icon-md p-0" href="#" id="profileDropdown" role="button"
                       data-bs-auto-close="outside" data-bs-display="static" data-bs-toggle="dropdown"
                       aria-expanded="false">
                        <img class="avatar-img rounded-2" src="static/images/avatar/07.jpg" alt="">
                    </a>
                    <ul class="dropdown-menu dropdown-animation dropdown-menu-end pt-3 small me-md-n3"
                        aria-labelledby="profileDropdown">
                        <!-- Profile info -->
                        <li class="px-3">
                            <div class="d-flex align-items-center position-relative">
                                <!-- Avatar -->
                                <div class="avatar me-3">
                                    <img class="avatar-img rounded-circle" src="static/images/avatar/07.jpg"
                                         alt="avatar">
                                </div>
                                <div>
                                    <a class="h6 stretched-link" href="#">Lori Ferguson</a>
                                    <p class="small m-0">Web Developer</p>
                                </div>
                            </div>
                            <a class="dropdown-item btn btn-primary-soft btn-sm my-2 text-center"
                               href="my-profile.html">View profile</a>
                        </li>
                        <!-- Links -->
                        <li><a class="dropdown-item" href="settings.html"><i
                                class="bi bi-gear fa-fw me-2"></i>Settings & Privacy</a></li>
                        <li>
                            <a class="dropdown-item" href="http://www.bootstrapmb.com">
                                <i class="fa-fw bi bi-life-preserver me-2"></i>Support
                            </a>
                        </li>
                        <li>
                            <a class="dropdown-item" href="">
                                <i class="fa-fw bi bi-card-text me-2"></i>Documentation
                            </a>
                        </li>
                        <li class="dropdown-divider"></li>
                        <li><a class="dropdown-item bg-danger-soft-hover" href="sign-in-advance.html"><i
                                class="bi bi-power fa-fw me-2"></i>Sign Out</a></li>
                        <li>
                            <hr class="dropdown-divider">
                        </li>
                        <!-- Dark mode switch START -->
                        <li>
                            <div class="modeswitch-wrap" id="darkModeSwitch">
                                <div class="modeswitch-item">
                                    <div class="modeswitch-icon"></div>
                                </div>
                                <span>Dark mode</span>
                            </div>
                        </li>
                        <!-- Dark mode switch END -->
                    </ul>
                </li>
                <!-- Profile START -->

            </ul>
            <!-- Nav right END -->
        </div>
    </nav>
    <!-- Logo Nav END -->
</header>
<!-- =======================
Header END -->

<!-- **************** MAIN CONTENT START **************** -->
<main>

    <!-- Container START -->
    <div>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 mx-auto">
                    <div class="card card-body">
                        <!-- Fees images -->
                        <div id="wrap" class="my-map">
                            <div id="map"></div>
                        </div>


                        <!-- Feed meta START -->
                        <div class="d-flex align-items-center justify-content-between my-3">
                            <div class="d-flex align-items-center">
                                <!-- Avatar -->
                                <div class="avatar avatar-story me-2">
                                    <a href="#!"> <img class="avatar-img rounded-circle"
                                                       src="static/images/avatar/04.jpg" alt=""> </a>
                                </div>
                                <!-- Info -->
                                <div>
                                    <div class="nav nav-divider">
                                        <h6 class="nav-item card-title mb-0"><a href="#!"> {{ .username }}Lori Ferguson </a></h6>
                                        <span class="nav-item small"> {{ .post_time }}2hr</span>
                                    </div>
                                    <!-- 这块不知道干嘛，可能是座右铭motto? -->
                                    <p class="mb-0 small">{{ .motto}}Web Developer at Webestica</p>
                                </div>
                            </div>
                            <!-- Card feed action dropdown START -->
                            <div class="dropdown">
                                <a href="#" class="text-secondary btn btn-secondary-soft-hover py-1 px-2"
                                   id="cardFeedAction" data-bs-toggle="dropdown" aria-expanded="false">
                                    <i class="bi bi-three-dots"></i>
                                </a>
                                <!-- Card feed action dropdown menu -->
                                <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="cardFeedAction">
                                    <li><a class="dropdown-item" href="#"> <i class="bi bi-bookmark fa-fw pe-2"></i>Collect</a></li>
                                    <!-- 这里可以改为下载gps路线 -->
                                    <li><a class="dropdown-item" href="#"> <i class="bi bi-archive"></i>&nbsp;&nbsp;Download GPS Route</a></li>
                                    <li><a class="dropdown-item" href="#"> <i class="bi bi-person-x fa-fw pe-2"></i>Unfollow
                                        {{ .username }}lori ferguson </a></li>
                                    <!-- 投诉提交后台审核 -->
                                    <li><a class="dropdown-item" href="#"> <i class="bi bi-slash-circle fa-fw pe-2"></i>Block</a>
                                    </li>
                                    <li>
                                        <hr class="dropdown-divider">
                                    </li>
                                </ul>
                            </div>
                            <!-- Card feed action dropdown END -->
                        </div>
                        <!-- Feed meta Info -->
                        <h1 class="h4">{{ .post_title }}Speedily say has suitable disposal add boy. On forth doubt miles of child.</h1>
                        <p>{{ .post_content }}Exercise joy man children rejoiced. Yet uncommonly his ten who diminution astonished.
                            Speedily say has suitable disposal add boy. On forth doubt miles of child. </p>
                        
                        <!-- Feed react START -->
                        <ul class="nav nav-stack flex-wrap small mb-3">
                            <li class="nav-item">
                                <a class="nav-link" href="#!"> <i class="bi bi-hand-thumbs-up-fill pe-1"></i>{{ .sum_likes}}(56)</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#!"> <i class="bi bi-chat-fill pe-1"></i>{{ .sum_comments }}(12)</a>
                            </li>
                            <!-- Card share action START -->
                            
                            <!-- Card share action END -->
                        </ul>
                        <!-- Feed react END -->

                        <!-- Comment wrap START -->
                        <ul class="comment-wrap list-unstyled">
                            <!-- 评论可以使用for循环 -->
                            <!-- Comment item START -->
                            <li class="comment-item">
                                <div class="d-flex position-relative">
                                    <!-- Avatar -->
                                    <div class="avatar avatar-xs">
                                        <a href="#!"><img class="avatar-img rounded-circle"
                                                          src="static/images/avatar/05.jpg" alt=""></a>
                                    </div>
                                    <div class="ms-2">
                                        <!-- Comment by -->
                                        <div class="bg-light rounded-start-top-0 p-3 rounded">
                                            <div class="d-flex justify-content-between">
                                                <h6 class="mb-1"><a href="#!">{{ .com_username }} Frances Guerrero </a></h6>
                                                <small class="ms-2">{{ .com_time }}5hr</small>
                                            </div>
                                            <p class="small mb-0">{{ .com_content }}Removed demands expense account in outward tedious do.
                                                Particular way thoroughly unaffected projection.</p>
                                        </div>
                                        <!-- Comment react -->
                                    </div>
                                </div>
                                <!-- Comment item nested START -->
                               <br>
                            </li>
                            <!-- Comment item END -->
                            <!-- Comment item START -->
                            <li class="comment-item">
                                <div class="d-flex">
                                    <!-- Avatar -->
                                    <div class="avatar avatar-xs">
                                        <a href="#!"><img class="avatar-img rounded-circle"
                                                          src="static/images/avatar/05.jpg" alt=""></a>
                                    </div>
                                    <!-- Comment by -->
                                    <div class="ms-2">
                                        <div class="bg-light p-3 rounded">
                                            <div class="d-flex justify-content-between">
                                                <h6 class="mb-1"><a href="#!"> Frances Guerrero </a></h6>
                                                <small class="ms-2">4min</small>
                                            </div>
                                            <p class="small mb-0">Removed demands expense account in outward tedious do.
                                                Particular way thoroughly unaffected projection.</p>
                                        </div>
                                        <!-- Comment react -->
                                        
                                    </div>
                                </div>
                            </li>
                            <!-- Comment item END -->
                        </ul>
                        <!-- Comment wrap END -->
                        <div class="card-footer border-0 pb-0">
                            <!-- Load more comments -->
                            <a href="#!" role="button"
                               class="btn btn-link btn-link-loader btn-sm text-secondary d-flex align-items-center"
                               data-bs-toggle="button" aria-pressed="true">
                                <div class="spinner-dots me-2">
                                    <span class="spinner-dot"></span>
                                    <span class="spinner-dot"></span>
                                    <span class="spinner-dot"></span>
                                </div>
                                Load more comments
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Container END -->

</main>
<!-- **************** MAIN CONTENT END **************** -->

<!-- =======================
JS libraries, plugins and custom scripts -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>


<!-- Bootstrap JS -->
<script src="static/vendor/bootstrap/dist/js/bootstrap.bundle.min.js"></script>

<!-- Template Functions -->
<script src="static/js/functions.js"></script>

<script src="//webapi.amap.com/maps?v=1.3&key=21d47c7ae90e5c14d751f6bfe98e34f1"></script>
<script src="https://webapi.amap.com/maps?v=2.0&key=21d47c7ae90e5c14d751f6bfe98e34f1"></script>
<script src="https://webapi.amap.com/loca?v=2.0.0&key=21d47c7ae90e5c14d751f6bfe98e34f1"></script>
        <script>
            var map = ( new AMap.Map('map', {
                zoom: 16,
                center: [103.988769, 30.764262],
                showLabel: true,
                viewMode: '3D',
            }));
            var loca = new Loca.Container({
                map,
            });
            // $.ajax({
            //   url: "https://restapi.amap.com/rest/lbs/geohub/place/properties?key=052fa8130e4aa343ecd86b2854e09b2b&dataset_id=0f4d453c-d344-467b-a34c-e30949b8bb84&properties={\"relation\": \"and\",\"conditions\": [{\"field\": \"terminalId\",\"operation\":\"equal\",\"value\": 1}]}&offset=300",

            //   success: function(res){

              const path = [[103.988769, 30.764262],
    [103.988769, 30.764262],
    [103.988914, 30.764133],
    [103.989043, 30.763985],
    [103.989118, 30.763874],
    [103.989268, 30.763755],
    [103.989354, 30.763662],
    [103.989483, 30.763533],
    [103.989611, 30.763413],
    [103.989729, 30.763312],
    [103.989858, 30.763174],
    [103.989965, 30.763054],
    [103.990062, 30.762971],
    [103.990126, 30.762879],
    [103.990201, 30.763026],
    [103.990309, 30.763109],
    [103.990416, 30.763201],
    [103.990523, 30.763275],
    [103.990641, 30.763335],
    [103.990759, 30.763423],
    [103.990872, 30.763552],
    [103.990979, 30.763626],
    [103.991065, 30.76357],
    [103.991065, 30.763501],
    [103.991113, 30.763441],
    [103.991156, 30.763354],
    [103.991172, 30.763312],
    [103.99121, 30.763266],
    [103.991215, 30.763188],
    [103.991253, 30.763142],
    [103.991264, 30.763118],
    [103.991296, 30.763077],
    [103.991312, 30.76304],
    [103.991333, 30.762999],
    [103.991349, 30.762971],
    [103.991355, 30.762902],
    [103.991398, 30.762851],
    [103.991424, 30.762782],
    [103.991441, 30.76274],
    [103.991462, 30.76269],
    [103.991473, 30.762648],
    [103.991467, 30.762607],
    [103.991462, 30.762561],
    [103.991462, 30.762492],
    [103.991441, 30.762445],
    [103.991414, 30.762399],
    [103.991392, 30.762349],
    [103.991365, 30.762321],
    [103.991339, 30.762303],
    [103.991323, 30.762284],
    [103.991296, 30.76227],
    [103.991258, 30.762243],
    [103.991215, 30.762201],
    [103.991167, 30.762155],
    [103.991129, 30.762109],
    [103.99106, 30.762063],
    [103.991022, 30.762026]];
            //   const data = res.objects.map(i => {
            //     path.push(i.geometry.coordinates)

            //   });

              const geo = new Loca.GeoJSONSource({
                data: {
                  type: "FeatureCollection",
                  features: [
                  {
                      type: 'Feature',
                      geometry: {
                        type: 'LineString',
                        coordinates: path
                      }
                    }
                  ]
                }
              });
              const layer = new Loca.PulseLineLayer({
                  zIndex: 10,
                  opacity: 1,
                  visible: true,
                  zooms: [2, 22],
              });
              layer.setSource(geo);
              layer.setStyle({
                  altitude: 0,
                  lineWidth: 6,
                  // 脉冲头颜色
                  headColor: '#2040ff',
                  // 脉冲尾颜色
                  trailColor: '#c0ffff',
                  interval: 1,
                  // 脉冲线的速度，几秒钟跑完整段路
                  duration: 5000,
              });
              loca.add(layer);
              loca.animate.start();
        //     },
        //     error: function()
        //     {
        //         alert(2)
        //     }
        // });
        </script>
</body>
</html>